---
title: week IX
description: ""
publishDate:  2025-12-14
tags: []
draft: false
---

340.


解：设该序列的生成函数为 $g(x)$，则
$$ g(x) = \sum_{n=0}^{\infty} h_n x^n = \sum_{n=0}^{\infty} n^2 x^n $$
我们从基本的几何级数开始：
$$ \sum_{n=0}^{\infty} x^n = \frac{1}{1-x} $$
对等式两边关于 $x$ 求导：
$$ \sum_{n=1}^{\infty} n x^{n-1} = \frac{1}{(1-x)^2} $$
两边同乘 $x$：
$$ \sum_{n=0}^{\infty} n x^n = \frac{x}{(1-x)^2} $$
再次对两边关于 $x$ 求导：
$$ \sum_{n=1}^{\infty} n^2 x^{n-1} = \frac{d}{dx}\left( \frac{x}{(1-x)^2} \right) $$
计算右边的导数：
$$ \frac{d}{dx}\left( \frac{x}{(1-x)^2} \right) = \frac{1\cdot(1-x)^2 - x\cdot 2(1-x)(-1)}{(1-x)^4} = \frac{(1-x)+2x}{(1-x)^3} = \frac{1+x}{(1-x)^3} $$
即：
$$ \sum_{n=1}^{\infty} n^2 x^{n-1} = \frac{1+x}{(1-x)^3} $$
两边同乘 $x$，得到所求生成函数：
$$ g(x) = \sum_{n=0}^{\infty} n^2 x^n = \frac{x(1+x)}{(1-x)^3} $$

350.


解：
设 $h_n$ 为 $n$ 位数中奇数数字组成且 1 和 3 均出现偶数次的个数。
我们将所有由 $\{1,3,5,7,9\}$ 组成的 $n$ 位数根据 1 和 3 出现次数的奇偶性分为四类：
1.  $h_n$：1 偶次，3 偶次。
2.  $l_n$：1 奇次，3 奇次。
3.  $k_n$：1 奇次，3 偶次。
4.  $k_n$：1 偶次，3 奇次（由对称性，此数量与第 3 类相同）。

考虑从 $n-1$ 位递推到 $n$ 位：
- 要得到 $h_n$（偶，偶），可以在 $h_{n-1}$ 后加 5,7,9（3 种），或在 $k_{n-1}$（奇，偶）后加 1，或在 $k_{n-1}$（偶，奇）后加 3。
  $$ h_n = 3h_{n-1} + 2k_{n-1} $$
- 要得到 $l_n$（奇，奇），可以在 $l_{n-1}$ 后加 5,7,9，或在 $k_{n-1}$（偶，奇）后加 1，或在 $k_{n-1}$（奇，偶）后加 3。
  $$ l_n = 3l_{n-1} + 2k_{n-1} $$
- 要得到 $k_n$（奇，偶），可以在 $k_{n-1}$ 后加 5,7,9，或在 $h_{n-1}$ 后加 1，或在 $l_{n-1}$ 后加 3。
  $$ k_n = 3k_{n-1} + h_{n-1} + l_{n-1} $$

令 $x_n = h_n - l_n$。
$$ x_n = 3(h_{n-1} - l_{n-1}) = 3x_{n-1} $$
由于 $x_0 = h_0 - l_0 = 1 - 0 = 1$，故 $x_n = 3^n$。

令 $S_n = h_n + l_n$ 为 1 和 3 的总次数为偶数（即奇 + 奇或偶 + 偶）的序列数。
由递推式相加得：
$$ h_n + l_n = 3(h_{n-1} + l_{n-1}) + 4k_{n-1} $$
即 $S_n = 3S_{n-1} + 4k_{n-1}$。
又知所有 $n$ 位奇数数字组成的序列总数为 $5^n$，即 $S_n + 2k_n = 5^n$，所以 $2k_{n-1} = 5^{n-1} - S_{n-1}$。
代入 $S_n$ 的递推式：
$$ S_n = 3S_{n-1} + 2(5^{n-1} - S_{n-1}) = S_{n-1} + 2 \cdot 5^{n-1} $$
利用 $S_0 = 1$，递推求解：
$$ S_n = 1 + \sum_{i=0}^{n-1} 2 \cdot 5^i = 1 + 2 \cdot \frac{5^n - 1}{4} = 1 + \frac{5^n - 1}{2} = \frac{5^n + 1}{2} $$
现在我们有方程组：
1. $h_n - l_n = 3^n$
2. $h_n + l_n = \frac{5^n + 1}{2}$

两式相加得：
$$ 2h_n = 3^n + \frac{5^n + 1}{2} = \frac{2 \cdot 3^n + 5^n + 1}{2} $$
$$ h_n = \frac{5^n + 2 \cdot 3^n + 1}{4} $$
得证。

352.


解：
在一个圆周上取 $2n$ 个点，标记为 $1, 2, \dots, 2n$。
考虑点 1，它必须与某个点 $k$ 相连形成一条弦。为了使剩下的点能够两两配对且弦不相交，弦 $(1, k)$ 将圆分成的两部分（点 $2, \dots, k-1$ 和点 $k+1, \dots, 2n$）必须各自包含偶数个点。
因此 $k$ 必须是偶数，设 $k = 2j + 2$，其中 $0 \le j \le n-1$。
- 弦的一侧有 $2j$ 个点（即点 $2$ 到 $2j+1$），连接这些点的方法数为 $a_j$。
- 弦的另一侧有 $2n - 2 - 2j = 2(n-1-j)$ 个点，连接这些点的方法数为 $a_{n-1-j}$。

根据乘法原理，当点 1 与点 $2j+2$ 相连时，方法数为 $a_j a_{n-1-j}$。
对所有可能的 $j$ 求和，得到总方法数 $a_n$ 的递推关系：
$$ a_n = \sum_{j=0}^{n-1} a_j a_{n-1-j} $$
且当 $n=0$ 时，视为一种方法（空弦），即 $a_0 = 1$。
该递推关系及初值条件与 Catalan 数 $C_n = \frac{1}{n+1}\binom{2n}{n}$ 的定义完全一致。
因此，连接这 $2n$ 个点的方法数等于第 $n$ 个 Catalan 数 $C_n$。

355.


解：
我们将 $n$ 个乘法项 $a_1, a_2, \dots, a_n$ 对应于一个凸 $(n+1)$ 边形的边，顶点标记为 $v_0, v_1, \dots, v_n$，其中 $a_i$ 对应于边 $(v_{i-1}, v_i)$。乘法运算对应于将多边形剖分为三角形的对角线。

(i) $(a_1 \times (((a_2 \times a_3) \times (a_4 \times a_5)) \times a_6))$
项数为 6，对应顶点 $v_0$ 至 $v_6$ 的七边形。
对角线为：
1.  由 $(a_2 \times a_3)$ 得：连接 $v_1, v_3$ 的对角线 **$(v_1, v_3)$**。
2.  由 $(a_4 \times a_5)$ 得：连接 $v_3, v_5$ 的对角线 **$(v_3, v_5)$**。
3.  由 $((a_2 \times a_3) \times (a_4 \times a_5))$ 得：连接 $v_1, v_5$ 的对角线 **$(v_1, v_5)$**。
4.  由 $(\dots) \times a_6$ 得：连接 $v_1, v_6$ 的对角线 **$(v_1, v_6)$**。
综上，三角剖分的对角线集合为：**$\{(v_1, v_3), (v_3, v_5), (v_1, v_5), (v_1, v_6)\}$**。

(ii) $(((a_1 \times a_2) \times (a_3 \times (a_4 \times a_5))) \times ((a_6 \times a_7) \times a_8))$
项数为 8，对应顶点 $v_0$ 至 $v_8$ 的九边形。
对角线为：
1.  由 $(a_1 \times a_2)$ 得：**$(v_0, v_2)$**。
2.  由 $(a_4 \times a_5)$ 得：**$(v_3, v_5)$**。
3.  由 $a_3 \times (a_4 \times a_5)$ 得：**$(v_2, v_5)$**。
4.  由 $(a_1 \times a_2) \times (\dots)$ 得：**$(v_0, v_5)$**。
5.  由 $(a_6 \times a_7)$ 得：**$(v_5, v_7)$**。
6.  由最外层乘法 (左边 $\times$ 右边) 结合右边的结构 $((a_6 a_7) \times a_8)$ 得：**$(v_5, v_8)$**。
综上，三角剖分的对角线集合为：**$\{(v_0, v_2), (v_3, v_5), (v_2, v_5), (v_0, v_5), (v_5, v_7), (v_5, v_8)\}$**。